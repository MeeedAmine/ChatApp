(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,a){},111:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),s=(a(110),a(111),a(57)),o=a(11),l=a(16),d=a(192),j=a(190),m=a(92),u=a.n(m),b=a(188),p=a(152),x=a(193),h=a(185),f=a(94),O=a.n(f),g=a(93),v=a.n(g),y=a(4),N=Object(h.a)((function(e){return{form:{margin:e.spacing(1),alignItems:"center",textAlign:"center",marginTop:"40px"},container:{maxWidth:"500px",height:"400px",background:"#f9f9f9",margin:"80px auto",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},title:{marginTop:"35px"},username:{display:"flex",marginTop:"15px"},room:{display:"flex",marginTop:"15px"},btn:{marginTop:"15px"}}}));function w(){var e=N(),t=Object(o.f)(),a=Object(n.useState)(""),r=Object(l.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(""),m=Object(l.a)(s,2),h=m[0],f=m[1],g=Object(n.useState)(!1),w=Object(l.a)(g,2),I=w[0],S=w[1],A=Object(n.useState)(!1),k=Object(l.a)(A,2),C=k[0],R=k[1];return Object(y.jsxs)(b.a,{className:e.container,children:[Object(y.jsx)(p.a,{variant:"h6",className:e.title,children:"Join a room and chat"}),Object(y.jsxs)("form",{className:e.form,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),""===h&&S(!0),""===c&&R(!0),h&&c&&t.push("/chat?username=".concat(h,"&room=").concat(c))},children:[Object(y.jsx)(d.a,{id:"username",label:"Username",onChange:function(e){return f(e.target.value)},InputProps:{startAdornment:Object(y.jsx)(j.a,{position:"start",children:Object(y.jsx)(u.a,{})})},required:!0,error:I,className:e.username}),Object(y.jsx)(d.a,{id:"room",label:"Room or ID",onChange:function(e){return i(e.target.value)},InputProps:{startAdornment:Object(y.jsx)(j.a,{position:"start",children:Object(y.jsx)(v.a,{})})},error:C,required:!0,className:e.room}),Object(y.jsx)(x.a,{type:"submit",variant:"contained",color:"primary",endIcon:Object(y.jsx)(O.a,{}),className:e.btn,children:"Join"})]})]})}var I=a(99),S=a(194);var A=Object(h.a)({container:{background:"#00B2FF",borderRadius:30,display:"inline-flex",height:40,width:"90%",marginBottom:"2px"},avatar:{position:"relative",background:"#006AFF"},text:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginLeft:"30px",fontSize:"20px"}});function k(e){var t=e.username,a=A(),n=t[0].toUpperCase();return Object(y.jsxs)("div",{className:a.container,children:[Object(y.jsx)(S.a,{className:a.avatar,children:n}),Object(y.jsx)(p.a,{className:a.text,children:t})]})}var C,R=a(191),F=a(98),T=a.n(F),B=a(95),D=a.n(B),W=a(96),E=a.n(W),J=a(62),U=a(97),L=Object(h.a)({container:{background:"#50ebc6",border:"solid 1px #0af0b9",borderRadius:"12px",marginBottom:"2px",width:"40%",display:"inline-block",textAlign:"left"},containerAdmin:{background:"#4bc3eb",border:"solid 1px #a6dbed",borderRadius:"12px",marginBottom:"2px",width:"40%",display:"inline-block",textAlign:"center"},username:{fontSize:"12px",borderRadius:"12px",margin:"0px 3px"},text:{margin:"0px 5px"},time:{margin:"0px 2px",display:"flex",justifyContent:"flex-end"},admin:{textAlign:"center"},sender:{textAlign:"right"},receiver:{textAlign:"left"}});function P(e){var t,a=e.message,r=e.sender,c=L(),i=Object(n.useState)("ChatApp Bot"===a.username),s=Object(l.a)(i,2),o=s[0],d=(s[1],Object(n.useState)(a.username===r)),j=Object(l.a)(d,2),m=j[0];j[1];return Object(y.jsx)("div",{className:Object(U.a)((t={},Object(J.a)(t,c.sender,m&&!o),Object(J.a)(t,c.receiver,!m&&!o),Object(J.a)(t,c.admin,o),t)),children:Object(y.jsxs)("div",{className:o?c.containerAdmin:c.container,children:[!o&&Object(y.jsx)(p.a,{variant:"body2",className:c.username,children:a.username}),Object(y.jsx)(p.a,{variant:"body1",className:c.text,children:a.text}),!o&&Object(y.jsx)(p.a,{variant:"caption",className:c.time,children:a.time})]})})}var V=Object(h.a)((function(e){return{container:{width:1080,height:700,background:"#00B2FF",padding:"10px",margin:"30px 10%",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"1fr 1fr 1fr"},chatInfo:{gridArea:"1 / 1 / 4 / 2",padding:"10px",margin:"30px",background:"#5C79FF",color:"#f9f9f9",height:"85%",borderRadius:30},root:{flexGrow:1,display:"flex",flexDirection:"column",height:180,justifyContent:"center",alignItems:"center"},room:{borderRadius:15,display:"inline-flex",height:40,width:"80%",alignItems:"center",justifyContent:"center",background:"#96a6c9"},btn:{marginTop:"6px",marginLeft:"2px",display:"flex"},users:{overflowY:"scroll",margin:"20px",maxHeight:"200px"},chatWindow:{gridArea:"1 / 2 / 3 / 4",padding:"20px",marginTop:"30px",width:"600px",height:"450px",backgroundColor:"#fff",borderRadius:"30px",maxHeight:"500px",overflowY:"scroll"},inputWrapper:{gridArea:"3 / 2 / 4 / 4",display:"flex",alignItems:"center"},inputField:{width:"550px"},input:{backgroundColor:"white"}}}));function q(){var e="https://chatappam.herokuapp.com/api",t=Object(o.g)(),a=Object(n.useState)(""),r=Object(l.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(""),j=Object(l.a)(s,2),m=j[0],u=j[1],h=Object(n.useState)([]),f=Object(l.a)(h,2),O=f[0],g=f[1],v=Object(n.useState)([]),N=Object(l.a)(v,2),w=N[0],S=N[1],A=Object(n.useState)(""),F=Object(l.a)(A,2),B=F[0],W=F[1],J=V();Object(n.useEffect)((function(){var a=E.a.parse(t.search),n=a.username,r=a.room;i(n),u(r),console.log(n,r),(C=D()(e)).emit("joinRoom",{username:n,room:r})}),[e,t.search]),Object(n.useEffect)((function(){C.on("message",(function(e){S((function(t){return[].concat(Object(I.a)(t),[e])}))})),C.on("roomUsers",(function(e){var t=e.room,a=e.users;g(a),u(t)}))}),[]);var U=function(){var e=Object(n.useRef)(null);return Object(n.useEffect)((function(){e.current.scrollIntoView({behavior:"smooth"})})),Object(y.jsx)("div",{ref:e})};return Object(y.jsxs)(b.a,{className:J.container,children:[Object(y.jsxs)("div",{className:J.chatInfo,children:[Object(y.jsx)(p.a,{variant:"h3",children:"Room"}),Object(y.jsxs)("div",{className:J.root,children:[Object(y.jsx)(p.a,{variant:"h4",className:J.room,children:m}),Object(y.jsx)(x.a,{className:J.btn,variant:"contained",color:"secondary",endIcon:Object(y.jsx)(T.a,{}),href:"/",children:"Leave"})]}),Object(y.jsx)(p.a,{variant:"h4",children:"Online Users"}),Object(y.jsx)("div",{className:J.users,children:O&&O.map((function(e){return Object(y.jsx)(k,{username:e.username},e.id)}))})]}),Object(y.jsxs)("div",{className:J.chatWindow,children:[w.map((function(e){return Object(y.jsx)(P,{message:e,sender:c},e.id)})),Object(y.jsx)(U,{})]}),Object(y.jsx)("div",{className:J.inputWrapper,children:Object(y.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),B&&(C.emit("chatMessage",B),W(""),e.target.value="")},children:[Object(y.jsx)(d.a,{id:"message",value:B,label:"Type a message",variant:"outlined",color:"primary",className:J.inputField,onChange:function(e){var t=e.target.value;W(t)},InputProps:{className:J.input}}),Object(y.jsx)(x.a,{type:"submit",variant:"contained",color:"primary",endIcon:Object(y.jsx)(R.a,{children:"send"}),children:"Send"})]})})]})}var z=function(){return Object(y.jsx)(s.a,{children:Object(y.jsxs)(o.c,{children:[Object(y.jsx)(o.a,{exact:!0,path:"/",children:Object(y.jsx)(w,{})}),Object(y.jsx)(o.a,{path:"/chat",children:Object(y.jsx)(q,{})})]})})};i.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(z,{})}),document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.885ae105.chunk.js.map